{% extends 'index.html' %}

{% block sidebar %}
<!-- Sidebar -->
<ul class="sidebar navbar-nav">
  <li class="nav-item dropdown choice">
    <form action="" method="get" class="input-form year">
  <div class="form-group">
    <label for="formGroupYearInput">Choose a year from 1950 to 2018:</label>
    <form name="input-form">
    <input select id="year" name="year" class=" form-control form-control-s" maxlength="4" pattern="\d{4}" required/>
    </div>
      <div class="input-form">
        {% csrf_token %}
        <input type="submit" value="Select" class="btn btn-light">
      </div>
    </form>
  </li>
</ul>
{% endblock %}

{% block datatable%}
<div class="card-header">
  {% comment %} <i class="fas fa-table"></i> {% endcomment %}
{{ year}} Racing Season</div>
<div class="card-body">
  <div class="table-responsive">
    <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
      <thead>
        <tr>
          <th>Round</th>
          <th>Race Name</th>
          <th>Circuit Name</th>
          <th>Results</th>
        </tr>
      </thead>
      <tbody>
        {% for race in races %}
        <tr>
          <td>{{ race.round }}</td>
          <td>{{ race.name }}</td>
          <td> <a href={{race.circuitId.url}} > {{ race.circuitId.name }} </a></td>
          <td> <a class="btn btn-sm btn-danger" href="./results/{{year}}/{{race.raceId}}">Results</button> </td>
        </tr>
        {% endfor %}
    </table>
  </div>
</div>
<!-- <div class="card-footer small text-muted">Updated yesterday at 11:59 PM</div> -->
{% endblock %}
